<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" 
    xmlns:aop="http://www.springframework.org/schema/aop" 
    xmlns:context="http://www.springframework.org/schema/context" 
    xmlns:p="http://www.springframework.org/schema/p" 
    xmlns:tx="http://www.springframework.org/schema/tx" 
    xmlns:mvc="http://www.springframework.org/schema/mvc"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="  
http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans-3.0.xsd 
http://www.springframework.org/schema/context 
http://www.springframework.org/schema/context/spring-context-3.0.xsd 
http://www.springframework.org/schema/aop 
http://www.springframework.org/schema/aop/spring-aop-3.0.xsd 
http://www.springframework.org/schema/tx 
http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
http://www.springframework.org/schema/mvc
http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd
">
	<!-- 拦截器 -->  
      <mvc:interceptors>   
<!--         多个拦截器,顺序执行 -->
<!--         通用路径要使用/**而不是/*，与web.xml中不同   -->
          <mvc:interceptor>    
             <mvc:mapping path="/**" /><!-- 如果不配置或/**,将拦截所有的Controller -->    
             <bean class="org.iceberg.duapp.controllers.interceptor.InterceptorTest"></bean>    
          </mvc:interceptor>    
      </mvc:interceptors>  

  	<mvc:annotation-driven/>  
	
	<!-- 配置静态资源，直接映射到对应的文件夹，不被DispatcherServlet处理，3.04新增功能，需要重新设置spring-mvc-3.0.xsd -->
    <mvc:resources location="/resources/*" mapping="/resources/**"/>

	<context:annotation-config />
	 
	<context:component-scan base-package="org.iceberg.duapp.controllers"></context:component-scan>
	
<!-- 	 注解填写转换路径  -->
<!-- 	    注解请求映射  -->
<!--     <bean class="org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping">         -->
<!-- 	</bean>  	 -->
<!-- 	<bean class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter"> -->
<!-- 		<property name="messageConverters">   -->
<!-- 			<list>   -->
<!-- 				<ref bean="byteArray_hmc" />   -->
<!-- 				<ref bean="string_hmc" />   -->
<!-- 				<ref bean="resource_hmc" />   -->
<!-- 				<ref bean="source_hmc" />   -->
<!-- 				<ref bean="xmlAwareForm_hmc" />   -->
<!-- 				<ref bean="jaxb2RootElement_hmc" />   -->
<!-- 				<ref bean="jackson_hmc" />   -->
<!-- 			</list>   -->
<!-- 		</property>   -->
<!-- 	</bean>   -->
<!-- 	<bean id="byteArray_hmc" class="org.springframework.http.converter.ByteArrayHttpMessageConverter" />处理.. -->
<!-- 	<bean id="string_hmc" class="org.springframework.http.converter.StringHttpMessageConverter" > -->
<!-- 		<property name="supportedMediaTypes" value = "application/json;charset=UTF-8" /> -->
<!-- 	</bean> -->
<!-- 	 处理..  -->
<!-- 	<bean id="resource_hmc" class="org.springframework.http.converter.ResourceHttpMessageConverter" />处理.. -->
<!-- 	<bean id="source_hmc" class="org.springframework.http.converter.xml.SourceHttpMessageConverter" />处理.. -->
<!-- 	<bean id="xmlAwareForm_hmc" class="org.springframework.http.converter.xml.XmlAwareFormHttpMessageConverter" />处理.. -->
<!-- 	<bean id="jaxb2RootElement_hmc" class="org.springframework.http.converter.xml.Jaxb2RootElementHttpMessageConverter" />处理.. -->
<!-- 	<bean id="jackson_hmc" class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter" > -->
		
<!-- 	</bean> -->
	<!-- 处理json-->
            
    <!-- 视图解析器  -->
    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver" p:prefix="/WEB-INF/jsp/" p:suffix=".jsp" />
    
<!--     <bean id="testInterceptor" class="org.iceberg.duapp.controllers.interceptor.InterceptorTest">   -->
<!--     </bean>   -->
    
    	<!-- 处理在类级别上的@RequestMapping注解-->  
<!--     <bean   -->
<!--         class="org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping" >   -->
<!--         <property name="interceptors">   -->
           <!-- 多个拦截器,顺序执行 -->  
<!--            <list>   -->
<!--               <ref bean="testInterceptor"/>   -->
<!--            </list>   -->
<!--         </property>   -->
<!--     </bean>  -->
    
    
    <!-- 文件上传 -->
     <bean id="multipartResolver"  
         class="org.springframework.web.multipart.commons.CommonsMultipartResolver"> 
<!--           set the max upload size100MB   -->
         <property name="maxUploadSize">  
             <value>104857600</value>  
         </property>  
         <property name="maxInMemorySize">  
             <value>1024000</value>  
         </property>  
     </bean>  
    
    
    

</beans>